(function(e){function t(t){for(var c,r,s=t[0],l=t[1],i=t[2],u=0,d=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(c in l)Object.prototype.hasOwnProperty.call(l,c)&&(e[c]=l[c]);p&&p(t);while(d.length)d.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],c=!0,r=1;r<n.length;r++){var s=n[r];0!==a[s]&&(c=!1)}c&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var c={},r={app:0},a={app:0},o=[];function s(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-3c61989c":"8a71e0e6"}[e]+".js"}function l(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={"chunk-3c61989c":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var c="css/"+({}[e]||e)+"."+{"chunk-3c61989c":"36f9a4c1"}[e]+".css",a=l.p+c,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var i=o[s],u=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(u===c||u===a))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){i=d[s],u=i.getAttribute("data-href");if(u===c||u===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var c=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=c,delete r[e],p.parentNode.removeChild(p),n(o)},p.href=a;var b=document.getElementsByTagName("head")[0];b.appendChild(p)})).then((function(){r[e]=0})));var c=a[e];if(0!==c)if(c)t.push(c[2]);else{var o=new Promise((function(t,n){c=a[e]=[t,n]}));t.push(c[2]=o);var i,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=s(e);var d=new Error;i=function(t){u.onerror=u.onload=null,clearTimeout(p);var n=a[e];if(0!==n){if(n){var c=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+c+": "+r+")",d.name="ChunkLoadError",d.type=c,d.request=r,n[1](d)}a[e]=void 0}};var p=setTimeout((function(){i({type:"timeout",target:u})}),12e4);u.onerror=u.onload=i,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=c,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)l.d(n,c,function(t){return e[t]}.bind(null,c));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/Vue-week4/",l.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var p=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1f57":function(e,t,n){"use strict";n("619d")},4858:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");function r(e,t){var n=Object(c["y"])("router-view");return Object(c["t"])(),Object(c["d"])(n)}n("b14e");var a=n("6b0d"),o=n.n(a);const s={},l=o()(s,[["render",r]]);var i=l,u=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02"));function d(e,t,n,r,a,o){return Object(c["t"])(),Object(c["f"])("div",null,"這是購物車頁面")}var p={};const b=o()(p,[["render",d]]);var m=b,g={class:"container"},f=Object(c["g"])("h2",{class:"text-center mb-3"},"訂單後台管理中心",-1),j={class:"form-floating mb-3"},O=Object(c["g"])("label",{for:"floatingInput"},"請輸入管理員信箱",-1),h={class:"form-floating"},v=Object(c["g"])("label",{for:"floatingPassword"},"請輸入密碼",-1),y=Object(c["g"])("div",{class:"form-check my-3"},[Object(c["g"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckChecked"}),Object(c["g"])("label",{class:"form-check-label",for:"flexCheckChecked"}," 記住我 ")],-1),w=Object(c["g"])("p",{class:"mt-5 mb-3 text-muted"},"© 2021~∞ - 六角學院",-1);function k(e,t,n,r,a,o){return Object(c["t"])(),Object(c["f"])("div",g,[Object(c["g"])("form",{class:"formlogin",onSubmit:t[3]||(t[3]=Object(c["H"])((function(){return o.signIn&&o.signIn.apply(o,arguments)}),["prevent"]))},[f,Object(c["g"])("div",j,[Object(c["G"])(Object(c["g"])("input",{type:"email",class:"form-control",id:"floatingInput",placeholder:"name@example.com","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.user.username=e}),required:"",autofocus:""},null,512),[[c["D"],a.user.username]]),O]),Object(c["g"])("div",h,[Object(c["G"])(Object(c["g"])("input",{type:"password",class:"form-control",id:"floatingPassword","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.user.password=e}),placeholder:"Password"},null,512),[[c["D"],a.user.password]]),v]),y,Object(c["g"])("button",{type:"submit",class:"btn btn-lg btn-primary w-100 mt-3",onClick:t[2]||(t[2]=Object(c["H"])((function(){return o.signIn&&o.signIn.apply(o,arguments)}),["prevent"]))}," 登入 "),w],32)])}var x=n("1da1"),P=(n("96cf"),n("99af"),n("ac1f"),n("5319"),n("bc3a")),U=n.n(P),M="https://vue3-course-api.hexschool.io/v2",C="ashen";function _(e){return R.apply(this,arguments)}function R(){return R=Object(x["a"])(regeneratorRuntime.mark((function e(t){var n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.post("".concat(M,"/admin/signin"),t);case 3:return n=e.sent,c=n.data,document.cookie="hexToken=".concat(c.token,"; expires=").concat(new Date(c.expired),";"),console.log("登入成功"),e.abrupt("return",!0);case 10:e.prev=10,e.t0=e["catch"](0),alert(e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),R.apply(this,arguments)}function N(){return I.apply(this,arguments)}function I(){return I=Object(x["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),U.a.defaults.headers.common["Authorization"]=t,e.prev=2,e.next=5,U.a.post("".concat(M,"/api/user/check"));case 5:console.log("確認用戶仍然持續登入"),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](2),alert(e.t0.response.data.message),nn.push("/Login");case 12:case"end":return e.stop()}}),e,null,[[2,8]])}))),I.apply(this,arguments)}function A(e){return S.apply(this,arguments)}function S(){return S=Object(x["a"])(regeneratorRuntime.mark((function e(t){var n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("".concat(M,"/api/").concat(C,"/admin/products?page=").concat(t));case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 8:e.prev=8,e.t0=e["catch"](0),alert(e.t0.response.data.message),nn.push("/Login");case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),S.apply(this,arguments)}function D(e){return L.apply(this,arguments)}function L(){return L=Object(x["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.post("".concat(M,"/api/").concat(C,"/admin/product"),t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),alert(e.t0.response.data.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),L.apply(this,arguments)}function V(e){return E.apply(this,arguments)}function E(){return E=Object(x["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t.data.id),e.next=4,U.a.put("".concat(M,"/api/").concat(C,"/admin/product/").concat(t.data.id),t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),alert(e.t0.response.data.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),E.apply(this,arguments)}function G(e){return T.apply(this,arguments)}function T(){return T=Object(x["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log("".concat(M,"/api/").concat(C,"/admin/product/").concat(t)),e.next=4,U.a.delete("".concat(M,"/api/").concat(C,"/admin/product/").concat(t));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),alert(e.t0.response.data.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),T.apply(this,arguments)}var H={data:function(){return{user:{username:"",password:""}}},methods:{signIn:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_(e.user);case 2:n=t.sent,!0===n&&nn.push("/admin");case 4:case"end":return t.stop()}}),t)})))()}}};n("1f57");const J=o()(H,[["render",k]]);var $=J,B={class:"d-flex"},q={class:"main w-100"};function F(e,t,n,r,a,o){var s=Object(c["y"])("Navbar"),l=Object(c["y"])("Sidebar"),i=Object(c["y"])("router-view");return Object(c["t"])(),Object(c["f"])(c["a"],null,[Object(c["j"])(s),Object(c["g"])("div",B,[Object(c["j"])(l),Object(c["g"])("main",q,[Object(c["j"])(i)])])],64)}var z={class:"navbar navbar-expand-lg navbar-light bg-light px-3"},K=Object(c["h"])('<a class="navbar-brand" href="#">專賣店後台</a><div class="collapse navbar-collapse justify-content-end" id="navbarNav"><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="#/">回首頁</a></li><li class="nav-item"><a class="nav-link" href="#">登出</a></li></ul></div>',2),Q=[K];function W(e,t){return Object(c["t"])(),Object(c["f"])("nav",z,Q)}n("e400");const X={},Y=o()(X,[["render",W]]);var Z=Y,ee={class:"sidebar"},te={class:"list-group list-group-flush bg-transparent"},ne={class:"list-group-item"},ce=Object(c["i"])("首頁"),re={class:"list-group-item"},ae=Object(c["i"])("產品");function oe(e,t){var n=Object(c["y"])("router-link");return Object(c["t"])(),Object(c["f"])("aside",ee,[Object(c["g"])("ul",te,[Object(c["g"])("li",ne,[Object(c["j"])(n,{class:"nav-link",to:"/admin"},{default:Object(c["F"])((function(){return[ce]})),_:1})]),Object(c["g"])("li",re,[Object(c["j"])(n,{class:"nav-link",to:"/admin/Products"},{default:Object(c["F"])((function(){return[ae]})),_:1})])])])}const se={},le=o()(se,[["render",oe]]);var ie=le,ue={components:{Navbar:Z,Sidebar:ie},mounted:function(){return Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:case"end":return e.stop()}}),e)})))()}};n("eccb");const de=o()(ue,[["render",F]]);var pe=de,be={class:"container"},me={class:"text-end mt-4"},ge={class:"table mt-4"},fe=Object(c["g"])("thead",null,[Object(c["g"])("tr",null,[Object(c["g"])("th",{width:"120"},"分類"),Object(c["g"])("th",null,"產品名稱"),Object(c["g"])("th",{width:"120"},"原價"),Object(c["g"])("th",{width:"120"},"售價"),Object(c["g"])("th",{width:"100"},"是否啟用"),Object(c["g"])("th",{width:"120"},"編輯")])],-1),je={class:"text-end"},Oe={class:"text-end"},he={key:0,class:"text-success"},ve={key:1},ye={class:"btn-group"},we=["onClick"],ke=["onClick"];function xe(e,t,n,r,a,o){var s=Object(c["y"])("pagination"),l=Object(c["y"])("productModal"),i=Object(c["y"])("delProductModal");return Object(c["t"])(),Object(c["f"])(c["a"],null,[Object(c["g"])("div",be,[Object(c["g"])("div",me,[Object(c["g"])("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=function(e){return o.showModal("new")})},"建立新的產品")]),Object(c["g"])("table",ge,[fe,Object(c["g"])("tbody",null,[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(a.products,(function(e){return Object(c["t"])(),Object(c["f"])("tr",{key:e.id},[Object(c["g"])("td",null,Object(c["A"])(e.category),1),Object(c["g"])("td",null,Object(c["A"])(e.title),1),Object(c["g"])("td",je,Object(c["A"])(e.origin_price),1),Object(c["g"])("td",Oe,Object(c["A"])(e.price),1),Object(c["g"])("td",null,[e.is_enabled?(Object(c["t"])(),Object(c["f"])("span",he,"啟用")):(Object(c["t"])(),Object(c["f"])("span",ve,"未啟用"))]),Object(c["g"])("td",null,[Object(c["g"])("div",ye,[Object(c["g"])("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:function(t){return o.showModal("update",e)}}," 編輯 ",8,we),Object(c["g"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(t){return o.showModal("delete",e)}}," 刪除 ",8,ke)])])])})),128))])]),Object(c["j"])(s,{pages:a.pagination,onEmitpages:o.init},null,8,["pages","onEmitpages"])]),Object(c["j"])(l,{productinfo:a.tempProduct,state:a.isNew,onUpdate:o.init},null,8,["productinfo","state","onUpdate"]),Object(c["j"])(i,{productinfo:a.tempProduct,onUpdate:o.init},null,8,["productinfo","onUpdate"])],64)}var Pe=n("5530"),Ue=(n("e9c4"),n("7c2b")),Me=n.n(Ue),Ce={key:0},_e={class:"pagination justify-content-center"},Re=Object(c["g"])("span",{"aria-hidden":"true"},"«",-1),Ne=[Re],Ie={key:0,class:"page-link"},Ae=["onClick"],Se=Object(c["g"])("span",{"aria-hidden":"true"},"»",-1),De=[Se];function Le(e,t,n,r,a,o){return n.pages?(Object(c["t"])(),Object(c["f"])("nav",Ce,[Object(c["g"])("ul",_e,[Object(c["g"])("li",{class:Object(c["p"])(["page-item",{disabled:1===n.pages.current_page}])},[Object(c["g"])("a",{class:"page-link",onClick:t[0]||(t[0]=Object(c["H"])((function(e){return o.emitpages(n.pages.current_page-1)}),["prevent"]))},Ne)],2),(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(n.pages.total_pages,(function(e,t){return Object(c["t"])(),Object(c["f"])("li",{class:Object(c["p"])(["page-item",{active:e===n.pages.current_page}]),"aria-current":"page",key:t},[e===n.pages.current_page?(Object(c["t"])(),Object(c["f"])("span",Ie,Object(c["A"])(e),1)):(Object(c["t"])(),Object(c["f"])("a",{key:1,class:"page-link",onClick:Object(c["H"])((function(t){return o.emitpages(e)}),["prevent"])},Object(c["A"])(e),9,Ae))],2)})),128)),Object(c["g"])("li",{class:Object(c["p"])(["page-item",{disabled:n.pages.current_page===n.pages.total_pages}])},[Object(c["g"])("a",{class:"page-link",onClick:t[1]||(t[1]=Object(c["H"])((function(e){return o.emitpages(n.pages.current_page+1)}),["prevent"]))},De)],2)])])):Object(c["e"])("",!0)}var Ve={props:["pages"],methods:{emitpages:function(e){this.$emit("emitpages",e)}}};const Ee=o()(Ve,[["render",Le]]);var Ge=Ee,Te=(n("a4d3"),n("e01a"),{id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"}),He={class:"modal-dialog modal-xl"},Je={class:"modal-content border-0"},$e={class:"modal-header bg-primary text-white"},Be={id:"productModalLabel",class:"modal-title"},qe={key:0},Fe={key:1},ze=Object(c["g"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Ke={class:"modal-body"},Qe={class:"row"},We={class:"col-sm-4"},Xe={class:"mb-2"},Ye={class:"mb-3"},Ze=Object(c["g"])("label",{for:"imageUrl",class:"form-label"},"主要圖片網址",-1),et=["src"],tt=Object(c["g"])("h3",null,"多圖新增",-1),nt={key:0},ct=Object(c["g"])("label",{for:"imageUrl",class:"form-label"},"圖片網址",-1),rt=["onUpdate:modelValue"],at=["src"],ot={key:0},st={key:1},lt={key:1},it={class:"col-sm-8"},ut={class:"mb-3"},dt=Object(c["g"])("label",{for:"title",class:"form-label"},"標題",-1),pt={class:"row"},bt={class:"mb-3 col-md-6"},mt=Object(c["g"])("label",{for:"category",class:"form-label"},"分類",-1),gt={class:"mb-3 col-md-6"},ft=Object(c["g"])("label",{for:"price",class:"form-label"},"單位",-1),jt={class:"row"},Ot={class:"mb-3 col-md-6"},ht=Object(c["g"])("label",{for:"origin_price",class:"form-label"},"原價",-1),vt={class:"mb-3 col-md-6"},yt=Object(c["g"])("label",{for:"price",class:"form-label"},"售價",-1),wt=Object(c["g"])("hr",null,null,-1),kt={class:"mb-3"},xt=Object(c["g"])("label",{for:"description",class:"form-label"},"產品描述",-1),Pt={class:"mb-3"},Ut=Object(c["g"])("label",{for:"content",class:"form-label"},"說明內容",-1),Mt={class:"mb-3"},Ct={class:"form-check"},_t=Object(c["g"])("label",{class:"form-check-label",for:"is_enabled"},"是否啟用",-1),Rt={class:"modal-footer"},Nt=Object(c["g"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function It(e,t,n,r,a,o){return Object(c["t"])(),Object(c["f"])("div",Te,[Object(c["g"])("div",He,[Object(c["g"])("div",Je,[Object(c["g"])("div",$e,[Object(c["g"])("h5",Be,[a.isNew?(Object(c["t"])(),Object(c["f"])("span",qe,"新增產品")):(Object(c["t"])(),Object(c["f"])("span",Fe,"編輯產品"))]),ze]),Object(c["g"])("div",Ke,[Object(c["g"])("div",Qe,[Object(c["g"])("div",We,[Object(c["g"])("div",Xe,[Object(c["g"])("div",Ye,[Ze,Object(c["G"])(Object(c["g"])("input",{type:"text",class:"form-control",placeholder:"請輸入主要圖片連結","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.tempProduct.imageUrl=e})},null,512),[[c["D"],a.tempProduct.imageUrl]])]),Object(c["g"])("img",{class:"img-fluid",src:a.tempProduct.imageUrl,alt:""},null,8,et)]),tt,Array.isArray(a.tempProduct.imagesUrl)?(Object(c["t"])(),Object(c["f"])("div",nt,[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(a.tempProduct.imagesUrl,(function(e,t){return Object(c["t"])(),Object(c["f"])("div",{key:t},[ct,Object(c["G"])(Object(c["g"])("input",{type:"text",class:"form-control",placeholder:"請輸入次要圖片連結","onUpdate:modelValue":function(e){return a.tempProduct.imagesUrl[t]=e}},null,8,rt),[[c["D"],a.tempProduct.imagesUrl[t]]]),Object(c["g"])("img",{class:"img-fluid",src:e,alt:""},null,8,at)])})),128)),!a.tempProduct.imagesUrl.length||a.tempProduct.imagesUrl[a.tempProduct.imagesUrl.length-1]?(Object(c["t"])(),Object(c["f"])("div",ot,[Object(c["g"])("button",{class:"btn btn-outline-primary btn-sm d-block w-100",onClick:t[1]||(t[1]=function(e){return a.tempProduct.imagesUrl.push("")})}," 新增圖片 ")])):(Object(c["t"])(),Object(c["f"])("div",st,[Object(c["g"])("button",{class:"btn btn-outline-danger btn-sm d-block w-100",onClick:t[2]||(t[2]=function(e){return a.tempProduct.imagesUrl.pop()})}," 刪除圖片 ")]))])):(Object(c["t"])(),Object(c["f"])("div",lt,[Object(c["g"])("button",{class:"btn btn-outline-primary btn-sm d-block w-100",onClick:t[3]||(t[3]=function(){return e.createImages&&e.createImages.apply(e,arguments)})}," 新增圖片 ")]))]),Object(c["g"])("div",it,[Object(c["g"])("div",ut,[dt,Object(c["G"])(Object(c["g"])("input",{id:"title",type:"text",class:"form-control",placeholder:"請輸入標題","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.tempProduct.title=e})},null,512),[[c["D"],a.tempProduct.title]])]),Object(c["g"])("div",pt,[Object(c["g"])("div",bt,[mt,Object(c["G"])(Object(c["g"])("input",{id:"category",type:"text",class:"form-control",placeholder:"請輸入分類","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.tempProduct.category=e})},null,512),[[c["D"],a.tempProduct.category]])]),Object(c["g"])("div",gt,[ft,Object(c["G"])(Object(c["g"])("input",{id:"unit",type:"text",class:"form-control",placeholder:"請輸入單位","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.tempProduct.unit=e})},null,512),[[c["D"],a.tempProduct.unit]])])]),Object(c["g"])("div",jt,[Object(c["g"])("div",Ot,[ht,Object(c["G"])(Object(c["g"])("input",{id:"origin_price",type:"number",min:"0",class:"form-control",placeholder:"請輸入原價","onUpdate:modelValue":t[7]||(t[7]=function(e){return a.tempProduct.origin_price=e})},null,512),[[c["D"],a.tempProduct.origin_price]])]),Object(c["g"])("div",vt,[yt,Object(c["G"])(Object(c["g"])("input",{id:"price",type:"number",min:"0",class:"form-control",placeholder:"請輸入售價","onUpdate:modelValue":t[8]||(t[8]=function(e){return a.tempProduct.price=e})},null,512),[[c["D"],a.tempProduct.price]])])]),wt,Object(c["g"])("div",kt,[xt,Object(c["G"])(Object(c["g"])("textarea",{id:"description",type:"text",class:"form-control",placeholder:"請輸入產品描述","onUpdate:modelValue":t[9]||(t[9]=function(e){return a.tempProduct.description=e})},"\n                ",512),[[c["D"],a.tempProduct.description]])]),Object(c["g"])("div",Pt,[Ut,Object(c["G"])(Object(c["g"])("textarea",{id:"description",type:"text",class:"form-control",placeholder:"請輸入說明內容","onUpdate:modelValue":t[10]||(t[10]=function(e){return a.tempProduct.content=e})},"\n                ",512),[[c["D"],a.tempProduct.content]])]),Object(c["g"])("div",Mt,[Object(c["g"])("div",Ct,[Object(c["G"])(Object(c["g"])("input",{id:"is_enabled",class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,"onUpdate:modelValue":t[11]||(t[11]=function(e){return a.tempProduct.is_enabled=e})},null,512),[[c["C"],a.tempProduct.is_enabled]]),_t])])])])]),Object(c["g"])("div",Rt,[Nt,Object(c["g"])("button",{type:"button",class:"btn btn-primary",onClick:t[12]||(t[12]=function(){return o.updateItem&&o.updateItem.apply(o,arguments)})},"確認")])])])],512)}var At={props:["productinfo","state"],data:function(){return{tempProduct:this.productinfo,isNew:this.state,productModal:null}},methods:{updateItem:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!0!==e.isNew){t.next=5;break}return t.next=3,D({data:e.tempProduct});case 3:t.next=7;break;case 5:return t.next=7,V({data:e.tempProduct});case 7:e.$emit("update");case 8:case"end":return t.stop()}}),t)})))()}},watch:{state:function(e){this.isNew=e},productinfo:function(e){this.tempProduct=e}}};const St=o()(At,[["render",It]]);var Dt=St,Lt={id:"delProductModal",ref:"delProductModal",class:"modal fade",tabindex:"-1","aria-labelledby":"delProductModalLabel","aria-hidden":"true"},Vt={class:"modal-dialog"},Et={class:"modal-content border-0"},Gt=Object(c["g"])("div",{class:"modal-header bg-danger text-white"},[Object(c["g"])("h5",{id:"delProductModalLabel",class:"modal-title"},[Object(c["g"])("span",null,"刪除產品")]),Object(c["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Tt={class:"modal-body"},Ht=Object(c["i"])(" 是否刪除 "),Jt={class:"text-danger"},$t=Object(c["i"])(" 商品(刪除後將無法恢復)。 "),Bt={class:"modal-footer"},qt=Object(c["g"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function Ft(e,t,n,r,a,o){return Object(c["t"])(),Object(c["f"])("div",Lt,[Object(c["g"])("div",Vt,[Object(c["g"])("div",Et,[Gt,Object(c["g"])("div",Tt,[Ht,Object(c["g"])("strong",Jt,Object(c["A"])(a.tempProduct.title),1),$t]),Object(c["g"])("div",Bt,[qt,Object(c["g"])("button",{type:"button",class:"btn btn-danger",onClick:t[0]||(t[0]=function(){return o.deleteItem&&o.deleteItem.apply(o,arguments)})},"確認刪除")])])])],512)}var zt={props:["productinfo"],data:function(){return{tempProduct:this.productinfo,delProductModal:null}},methods:{deleteItem:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G(e.tempProduct.id);case 2:e.$emit("update");case 3:case"end":return t.stop()}}),t)})))()}},watch:{productinfo:function(e){this.tempProduct=e}}};const Kt=o()(zt,[["render",Ft]]);var Qt=Kt,Wt={title:"",category:"",origin_price:0,price:0,unit:"",description:"",content:"",is_enabled:1,imageUrl:"",imagesUrl:[]},Xt={components:{pagination:Ge,productModal:Dt,delProductModal:Qt},data:function(){return{products:[],pagination:null,isNew:!1,tempProduct:Wt,productModal:null,delProductModal:null}},methods:{init:function(){var e=arguments,t=this;return Object(x["a"])(regeneratorRuntime.mark((function n(){var c,r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c=e.length>0&&void 0!==e[0]?e[0]:1,console.log("從遠端抓新資料"),n.next=4,A(c);case 4:r=n.sent,a=r.products,o=r.pagination,t.products=a,t.pagination=o,t.productModal.hide(),t.delProductModal.hide();case 11:case"end":return n.stop()}}),n)})))()},showModal:function(e,t){"new"===e?(this.tempProduct=JSON.parse(JSON.stringify(Wt)),this.isNew=!0,this.productModal.show()):"update"===e?(console.log("update"),this.tempProduct=JSON.parse(JSON.stringify(t)),this.isNew=!1,this.productModal.show()):"delete"===e&&(console.log("delete"),this.tempProduct=Object(Pe["a"])({},t),this.delProductModal.show())},createImages:function(){this.tempProduct.imagesUrl=[],this.tempProduct.imagesUrl.push("")}},created:function(){this.init()},mounted:function(){this.productModal=new Me.a(document.getElementById("productModal"),{keyboard:!1}),this.delProductModal=new Me.a(document.getElementById("delProductModal"),{keyboard:!1})}};const Yt=o()(Xt,[["render",xe]]);var Zt=Yt,en=[{path:"/",name:"Layout",component:function(){return n.e("chunk-3c61989c").then(n.bind(null,"7ffc"))},children:[{path:"/Cart",name:"Cart",component:m}]},{path:"/Login",name:"Login",component:$},{path:"/admin",name:"Dashboard",component:pe,children:[{path:"products",name:"products",component:Zt}]}],tn=Object(u["a"])({history:Object(u["b"])(),routes:en}),nn=tn,cn=n("5502"),rn=Object(cn["a"])({state:{},mutations:{},actions:{},modules:{}});Object(c["c"])(i).use(rn).use(nn).mount("#app")},"619d":function(e,t,n){},b14e:function(e,t,n){"use strict";n("d333")},ba6b:function(e,t,n){},d333:function(e,t,n){},e400:function(e,t,n){"use strict";n("4858")},eccb:function(e,t,n){"use strict";n("ba6b")}});
//# sourceMappingURL=app.15fe95ec.js.map